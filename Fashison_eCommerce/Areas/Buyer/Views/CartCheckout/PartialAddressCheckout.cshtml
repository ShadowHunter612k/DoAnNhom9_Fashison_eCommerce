@model Fashison_eCommerce.ViewModel.AddressViewModel
@{
    Layout = null;
}

<script src="~/Assets/Buyer/CreateAddress.js"></script>

@section CustomStyles{
    <link href="~/Assets/Buyer/CustomStyles.css" rel="stylesheet" />
    <link href="~/Assets/Buyer/Address.css" rel="stylesheet" />
    <link href="~/Assets/Buyer/bundle.css" rel="stylesheet" />
}
<div id="Address">
    <div class="checkout-address-selection">
        <div class="_298G_L"></div>
        <div class="checkout-address-selection__container">
            <div class="checkout-address-selection__section-header">
                <div class="checkout-address-selection__section-header-text">
                    <svg height="16" viewBox="0 0 12 16" width="12" class="shopee-svg-icon icon-location-marker">
                        <path d="M6 3.2c1.506 0 2.727 1.195 2.727 2.667 0 1.473-1.22 2.666-2.727 2.666S3.273 7.34 3.273 5.867C3.273 4.395 4.493 3.2 6 3.2zM0 6c0-3.315 2.686-6 6-6s6 2.685 6 6c0 2.498-1.964 5.742-6 9.933C1.613 11.743 0 8.498 0 6z" fill-rule="evenodd"></path>
                    </svg> Địa chỉ nhận hàng
                </div>
                <div class="checkout-address-selection__manage-buttons" href="/User/Address">
                    <button class="stardust-button checkout-address-selection__add-new-btn" data-toggle="modal" data-target="#create-modal">
                        <svg enable-background="new 0 0 10 10" viewBox="0 0 10 10" class="stardust-icon stardust-icon-plus-sign checkout-address-selection__plus-sign">
                            <path stroke="none" d="m10 4.5h-4.5v-4.5h-1v4.5h-4.5v1h4.5v4.5h1v-4.5h4.5z"></path>
                        </svg>Thêm địa chỉ mới
                    </button>
                    <a class="checkout-address-selection__manage-link" href="/User/Address">
                        <div class="stardust-button checkout-address-selection__manage-btn">Thiết lập địa chỉ</div>
                    </a>
                </div>
            </div>

            <div id="table-address" class="checkout-address-selection__edit-addresses">
                @foreach (var address in ViewBag.Address)
                {
                    if (address.Address_ID == Convert.ToInt32(Session["tempAddress"].ToString()))
                    {
                        <div class="stardust-radio-group">
                            <div class="stardust-radio stardust-radio--checked">
                                <div class="stardust-radio-button stardust-radio-button--checked">
                                    <div class="stardust-radio-button__outer-circle">
                                        <div class="stardust-radio-button__inner-circle"></div>
                                    </div>
                                </div>
                                <div class="stardust-radio__content">
                                    <div class="stardust-radio__label">
                                        <div class="checkout-address-row">
                                            <div class="checkout-address-row__user-detail">@address.full_name (+84) @address.phone</div>
                                            <div class="checkout-address-row__address-summary"> @address.address</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="stardust-radio-group">
                            <div class="stardust-radio stardust-radio--checked">
                                <div class="stardust-radio-button stardust-radio-button change-address-btn" id="radioButtonClick" data-id_address="@address.Address_ID">
                                    <div class="stardust-radio-button__outer-circle">
                                        <div class="stardust-radio-button__inner-circle"></div>
                                    </div>
                                </div>
                                <div class="stardust-radio__content">
                                    <div class="stardust-radio__label">
                                        <div class="checkout-address-row">
                                            <div class="checkout-address-row__user-detail">@address.full_name (+84) @address.phone</div>
                                            <div class="checkout-address-row__address-summary"> @address.address</div>
                                            <div class="checkout-address-row__default-label"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                }
                <div class="checkout-address-selection__edit-addresses-btns">
                    <button class="stardust-button stardust-button--primary checkout-address-selection__submit-btn" id="CompleteAddress">Hoàn thành</button>
                    <button class="stardust-button checkout-address-selection__cancel-btn" id="Exit">Trở Lại</button>
                </div>
                <div id="create-modal" class="modal fade" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <a class="close" data-dismiss="modal">×</a>
                                <h3>Thêm địa chỉ mới</h3>
                            </div>
                            <form id="createForm" name="address" role="form">
                                <div class="modal-body">
                                    <div class="form-group">
                                        <label for="name">Họ và tên</label>
                                        @Html.EditorFor(model => model.address.full_name, new { htmlAttributes = new { @class = "form-control", @id = "name" } })
                                    </div>
                                    <div class="form-group">
                                        <label for="phone">Số điện thoại</label>
                                        @Html.EditorFor(model => model.address.phone, new { htmlAttributes = new { @class = "form-control", @id = "phone" } })
                                    </div>
                                    <div class="form-group">
                                        <label for="address">Địa chỉ</label>
                                        @Html.EditorFor(model => model.address.address1, new { htmlAttributes = new { @class = "form-control", @id = "Address1" } })
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Trở lại</button>
                                    <input type="submit" class="btn btn-info" id="createForm" value="Hoàn thành">
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>  
</div>


