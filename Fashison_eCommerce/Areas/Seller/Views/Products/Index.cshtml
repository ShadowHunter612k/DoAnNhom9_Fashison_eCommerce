@*@model IEnumerable<Fashison_eCommerce.Models.Product>*@
@*@model PagedList.IPagedList<Fashison_eCommerce.Models.Product>
    @using PagedList.Mvc;*@

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Seller/Views/Shared/_Layout.cshtml";
}

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="~/Assets/Seller/js/Filter.js"></script>

<div>
    <label>Tên sản phẩm</label>
    <input type="text" id="Name" placeholder="Nhập vào" />
    <label> Loại</label>
    @Html.DropDownList("MaintypeID", null, "Select one")

    @Html.DropDownList("TypeID", null, "Select one", new { @style = "display:none" })
    <br />
    <label>Kho hàng</label>
    <input type="number" value="0" min="0" id="MinAmount" />
    <label>-</label>
    <input type="number" value="0" min="0" id="MaxAmount" />
    <br />
    <button id="search" style="background-color:orangered;color:white;border: none;
    border-radius: 0.5rem; ">
        Tìm
    </button>
    <div class="fa-pull-right">

        @using (Html.BeginForm("ImportFromExcel", "Products", FormMethod.Post, new { enctype = "multipart/form-data" }))
        {
            @Html.ValidationSummary();

            <input type="file" name="postedFile" accept=".xlsx, .xls" class="btn-outline-warning" />


            <input type="submit" button id="upload" value="Import" class="btn-success" />

        }
    </div>

</div>
<p>
    @Html.ActionLink("Thêm sản phẩm", "Create")
</p>



<div>
    @Html.Partial("~/Areas/Seller/Views/Products/Search.cshtml");
</div>



@*}*@



@*<div class="col-md-6 col-lg-6 col-xs-6 col-sm-6 text-right ">
        Trang: @(Model.PageCount< Model.PageNumber ? 0:Model.PageNumber)/@Model.PageCount

    </div>

    <div class="pagination">
        @Html.PagedListPager(Model, page => Url.Action("Index", new { page }))
    </div>*@
@*<script>
    $("#upload").click(function () {
        debugger;
        if (window.FormData == undefined)
            alert("Error: FormData is undefined");

        else {
            var fileUpload = $("#postedFile").get(0);
            var files = fileUpload.files;

            var fileData = new FormData();

            fileData.append(files[0].name, files[0]);

            $.ajax({
                url: '/Products/ImportFromExcel',
                type: 'POST',
                datatype: 'json',
                contentType: false,
                processData: false,
                async: false,
                data: fileData,
                success: function (response) {
               
                    alert("@ViewBag.Message");
                }
            });
        }

    });
</script>*@  